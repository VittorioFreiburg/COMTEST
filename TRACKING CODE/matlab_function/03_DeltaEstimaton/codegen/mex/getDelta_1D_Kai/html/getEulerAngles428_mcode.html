<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="94,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T67U3">angles</span>] = getEulerAngles(<span class="var type1" id="S3T79U6">q</span>,<span class="var type2" id="S4T20V4U7">convention</span>,<span class="var type2" id="S5T6V5U8">intrinsic</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="94,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%EULERANGLES Calculates Euler angles from quaternions</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%   convention: Euler angle axis sequence as string, e.g. "zyx".</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">%   intrinsic: boolean, if true, intrinsic Euler angles (e.g. z-y'-x'') are</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%   calculated, if false, extrinsic angles (e.g. z-y-x) are calculated.</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%   Author: Daniel Laidig &lt;laidig@control.tu-berlin.de&gt;</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T6:U5"><span class="keyword">if</span> ~<span class="mxinfo " id="T6:U6">ischar(<span class="var type1" id="S4T20U15">convention</span>)</span> || ~<span class="mxinfo " id="T6:U8">all(<span class="mxinfo " id="T91:U9">size(<span class="var type1" id="S4T20U22">convention</span>) == [1 3]</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,11" id="srcline11">11</a></span><span class="line">        error(<span class="string">'eulerAngles:invalidConvention'</span>, <span class="string">'Invalid convention "%s"'</span>, <span class="var type0" id="S4T0U32">convention</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="94,12" id="srcline12">12</a></span><span class="line">    <span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="94,13" id="srcline13">13</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="94,14" id="srcline14">14</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S5T6U35">intrinsic</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,15" id="srcline15">15</a></span><span class="line">        <span class="mxinfo " id="T20:U12"><span class="var type1" id="S4T20U38">convention</span> = <span class="mxinfo " id="T20:U14">fliplr(<span class="var type1" id="S4T20U41">convention</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,16" id="srcline16">16</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,17" id="srcline17">17</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="94,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T2:U16"><span class="var type1" id="S11T2U44">a</span> = <span class="mxinfo " id="T2:U18"><span class="fcn" id="F395N21:B46">conventionIdentifierToNum</span>(<span class="var type1" id="S4T20U48">convention</span>(1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,19" id="srcline19">19</a></span><span class="line">    <span class="mxinfo " id="T2:U20"><span class="var type1" id="S13T2U52">b</span> = <span class="mxinfo " id="T2:U22"><span class="fcn" id="F395N21:B54">conventionIdentifierToNum</span>(<span class="var type1" id="S4T20U56">convention</span>(2))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T2:U24"><span class="var type1" id="S14T2U60">c</span> = <span class="mxinfo " id="T2:U26"><span class="fcn" id="F395N21:B62">conventionIdentifierToNum</span>(<span class="var type1" id="S4T20U64">convention</span>(3))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,21" id="srcline21">21</a></span><span class="line">    <span class="mxinfo " id="T2:U28"><span class="var type1" id="S15T2U68">d</span> = <span class="mxinfo " id="T2:U30">NaN</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,22" id="srcline22">22</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T6:U31"><span class="var type1" id="S11T2U74">a</span> == <span class="var type1" id="S14T2U75">c</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="94,23" id="srcline23">23</a></span><span class="line">        <span class="keyword">if</span> <span class="var type0" id="S11T0U80">a</span> ~= 1 &amp;&amp; <span class="var type0" id="S13T0U83">b</span> ~= 1</span></span>
<span class="srcline"><span class="lineno"><a href="94,24" id="srcline24">24</a></span><span class="line">            <span class="var type0" id="S15T0U87">d</span> = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="94,25" id="srcline25">25</a></span><span class="line">        <span class="keyword">elseif</span> <span class="var type0" id="S11T0U92">a</span> ~= 2 &amp;&amp; <span class="var type0" id="S13T0U95">b</span> ~= 2</span></span>
<span class="srcline"><span class="lineno"><a href="94,26" id="srcline26">26</a></span><span class="line">            <span class="var type0" id="S15T0U99">d</span> = 2;</span></span>
<span class="srcline"><span class="lineno"><a href="94,27" id="srcline27">27</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,28" id="srcline28">28</a></span><span class="line">            <span class="var type0" id="S15T0U104">d</span> = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="94,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,30" id="srcline30">30</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,32" id="srcline32">32</a></span><span class="line">    <span class="mxinfo " id="T6:U34"><span class="keyword">if</span> <span class="mxinfo " id="T6:U35"><span class="var type1" id="S13T2U110">b</span> == <span class="var type1" id="S11T2U111">a</span></span> || <span class="mxinfo " id="T6:U38"><span class="var type1" id="S13T2U113">b</span> == <span class="var type1" id="S14T2U114">c</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="94,33" id="srcline33">33</a></span><span class="line">        error(<span class="string">'eulerAngles:invalidAxisOrder'</span>, <span class="string">'Invalid axis order'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="94,34" id="srcline34">34</a></span><span class="line">    <span class="keyword">end</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="94,35" id="srcline35">35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,36" id="srcline36">36</a></span><span class="line">    <span class="comment">% sign factor depending on the axis order</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,37" id="srcline37">37</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T6:U41"><span class="var type1" id="S13T2U123">b</span> == <span class="mxinfo " id="T2:U43"><span class="mxinfo " id="T2:U44">mod(<span class="var type1" id="S11T2U127">a</span>, 3)</span> + <span class="mxinfo " id="T2:U46">1</span></span></span> <span class="comment">% cyclic order</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,38" id="srcline38">38</a></span><span class="line">        <span class="var type0" id="S18T0U132">s</span> = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="94,39" id="srcline39">39</a></span><span class="line">    <span class="keyword">else</span> <span class="comment">% anti-cyclic order</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,40" id="srcline40">40</a></span><span class="line">        <span class="mxinfo " id="T2:U47"><span class="var type1" id="S18T2U137">s</span> = <span class="mxinfo " id="T2:U49">-1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,41" id="srcline41">41</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,42" id="srcline42">42</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="94,43" id="srcline43">43</a></span><span class="line">    <span class="mxinfo " id="T67:U50"><span class="var type1" id="S2T67U142">angles</span> = <span class="mxinfo " id="T67:U52">zeros(<span class="mxinfo " id="T90:U53">[<span class="mxinfo " id="T2:U54">size(<span class="var type1" id="S3T79U149">q</span>, 1)</span> <span class="mxinfo " id="T2:U56">3</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,44" id="srcline44">44</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T6:U57"><span class="var type1" id="S11T2U155">a</span> == <span class="var type1" id="S14T2U156">c</span></span> <span class="comment">% proper Euler angles</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,45" id="srcline45">45</a></span><span class="line">        <span class="var type0" id="S2T0U160">angles</span>(:,1) = atan2(<span class="var type0" id="S3T0U168">q</span>(:,<span class="var type0" id="S11T0U171">a</span>+1).*<span class="var type0" id="S3T0U174">q</span>(:,<span class="var type0" id="S13T0U177">b</span>+1) - <span class="var type0" id="S18T0U181">s</span>.*<span class="var type0" id="S3T0U183">q</span>(:,<span class="var type0" id="S15T0U186">d</span>+1).*<span class="var type0" id="S3T0U189">q</span>(:,1), <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,46" id="srcline46">46</a></span><span class="line">            <span class="var type0" id="S3T0U195">q</span>(:,<span class="var type0" id="S13T0U198">b</span>+1).*<span class="var type0" id="S3T0U201">q</span>(:,1) + <span class="var type0" id="S18T0U206">s</span>.*<span class="var type0" id="S3T0U208">q</span>(:,<span class="var type0" id="S11T0U211">a</span>+1).*<span class="var type0" id="S3T0U214">q</span>(:,<span class="var type0" id="S15T0U217">d</span>+1));</span></span>
<span class="srcline"><span class="lineno"><a href="94,47" id="srcline47">47</a></span><span class="line">        <span class="var type0" id="S2T0U222">angles</span>(:,2) = acos(clip(<span class="var type0" id="S3T0U234">q</span>(:,1).^2 + <span class="var type0" id="S3T0U240">q</span>(:,<span class="var type0" id="S11T0U243">a</span>+1).^2 - <span class="var type0" id="S3T0U248">q</span>(:,<span class="var type0" id="S13T0U251">b</span>+1).^2 - <span class="var type0" id="S3T0U256">q</span>(:,<span class="var type0" id="S15T0U259">d</span>+1).^2, -1, 1));</span></span>
<span class="srcline"><span class="lineno"><a href="94,48" id="srcline48">48</a></span><span class="line">        <span class="var type0" id="S2T0U268">angles</span>(:,3) = atan2(<span class="var type0" id="S3T0U276">q</span>(:,<span class="var type0" id="S11T0U279">a</span>+1).*<span class="var type0" id="S3T0U282">q</span>(:,<span class="var type0" id="S13T0U285">b</span>+1) + <span class="var type0" id="S18T0U289">s</span>.*<span class="var type0" id="S3T0U291">q</span>(:,<span class="var type0" id="S15T0U294">d</span>+1).*<span class="var type0" id="S3T0U297">q</span>(:,1), <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,49" id="srcline49">49</a></span><span class="line">            <span class="var type0" id="S3T0U303">q</span>(:,<span class="var type0" id="S13T0U306">b</span>+1).*<span class="var type0" id="S3T0U309">q</span>(:,1) - <span class="var type0" id="S18T0U314">s</span>.*<span class="var type0" id="S3T0U316">q</span>(:,<span class="var type0" id="S11T0U319">a</span>+1).*<span class="var type0" id="S3T0U322">q</span>(:,<span class="var type0" id="S15T0U325">d</span>+1));</span></span>
<span class="srcline"><span class="lineno"><a href="94,50" id="srcline50">50</a></span><span class="line">    <span class="keyword">else</span> <span class="comment">% Tait-Bryan</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,51" id="srcline51">51</a></span><span class="line">        <span class="mxinfo " id="T29:U60"><span class="mxinfo " id="T29:U61"><span class="var type1" id="S2T67U331">angles</span>(<span class="mxinfo " id="T14:U63">:</span>,<span class="mxinfo " id="T10:U64">1</span>)</span> = <span class="mxinfo " id="T29:U65">atan2(<span class="mxinfo " id="T29:U66"><span class="mxinfo " id="T2:U67">2</span>.*(<span class="mxinfo " id="T29:U68"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U69"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U70"><span class="var type1" id="S3T79U342">q</span>(<span class="mxinfo " id="T14:U72">:</span>,<span class="mxinfo " id="T10:U73"><span class="var type1" id="S11T2U345">a</span>+1</span>)</span>.*<span class="mxinfo " id="T29:U75"><span class="var type1" id="S3T79U348">q</span>(<span class="mxinfo " id="T14:U77">:</span>,<span class="mxinfo " id="T2:U78">1</span>)</span></span></span> + <span class="mxinfo " id="T29:U79"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U80"><span class="var type1" id="S18T2U353">s</span>.*<span class="mxinfo " id="T29:U82"><span class="var type1" id="S3T79U355">q</span>(<span class="mxinfo " id="T14:U84">:</span>,<span class="mxinfo " id="T2:U85"><span class="var type1" id="S13T2U358">b</span>+1</span>)</span></span>.*<span class="mxinfo " id="T29:U87"><span class="var type1" id="S3T79U361">q</span>(<span class="mxinfo " id="T14:U89">:</span>,<span class="mxinfo " id="T2:U90"><span class="var type1" id="S14T2U364">c</span>+1</span>)</span></span></span></span></span>)</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,52" id="srcline52">52</a></span><span class="line">            <span class="mxinfo " id="T29:U92"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U93"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U94"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U95"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U96"><span class="var type1" id="S3T79U371">q</span>(<span class="mxinfo " id="T14:U98">:</span>,<span class="mxinfo " id="T10:U99">1</span>)</span>.^2</span></span> - <span class="mxinfo " id="T29:U100"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U101"><span class="var type1" id="S3T79U377">q</span>(<span class="mxinfo " id="T14:U103">:</span>,<span class="mxinfo " id="T10:U104"><span class="var type1" id="S11T2U380">a</span>+1</span>)</span>.^2</span></span></span></span> - <span class="mxinfo " id="T29:U106"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U107"><span class="var type1" id="S3T79U385">q</span>(<span class="mxinfo " id="T14:U109">:</span>,<span class="mxinfo " id="T10:U110"><span class="var type1" id="S13T2U388">b</span>+1</span>)</span>.^2</span></span></span></span> + <span class="mxinfo " id="T29:U112"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U113"><span class="var type1" id="S3T79U393">q</span>(<span class="mxinfo " id="T14:U115">:</span>,<span class="mxinfo " id="T10:U116"><span class="var type1" id="S14T2U396">c</span>+1</span>)</span>.^2</span></span></span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,53" id="srcline53">53</a></span><span class="line">        <span class="mxinfo " id="T29:U118"><span class="mxinfo " id="T29:U119"><span class="var type1" id="S2T67U402">angles</span>(<span class="mxinfo " id="T14:U121">:</span>,<span class="mxinfo " id="T10:U122">2</span>)</span> = <span class="mxinfo " id="T29:U123"><span class="potentialdiff PD1">asin(<span class="mxinfo " id="T29:U124"><span class="fcn" id="F420N20:B408">clip</span>(<span class="mxinfo " id="T29:U125"><span class="mxinfo " id="T2:U126">2</span>.*(<span class="mxinfo " id="T29:U127"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U128"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U129"><span class="var type1" id="S3T79U415">q</span>(<span class="mxinfo " id="T14:U131">:</span>,<span class="mxinfo " id="T10:U132"><span class="var type1" id="S13T2U418">b</span>+1</span>)</span>.*<span class="mxinfo " id="T29:U134"><span class="var type1" id="S3T79U421">q</span>(<span class="mxinfo " id="T14:U136">:</span>,<span class="mxinfo " id="T2:U137">1</span>)</span></span></span> - <span class="mxinfo " id="T29:U138"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U139"><span class="var type1" id="S18T2U426">s</span>.*<span class="mxinfo " id="T29:U141"><span class="var type1" id="S3T79U428">q</span>(<span class="mxinfo " id="T14:U143">:</span>,<span class="mxinfo " id="T2:U144"><span class="var type1" id="S11T2U431">a</span>+1</span>)</span></span>.*<span class="mxinfo " id="T29:U146"><span class="var type1" id="S3T79U434">q</span>(<span class="mxinfo " id="T14:U148">:</span>,<span class="mxinfo " id="T2:U149"><span class="var type1" id="S14T2U437">c</span>+1</span>)</span></span></span></span></span>)</span>, -1, 1)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,54" id="srcline54">54</a></span><span class="line">        <span class="mxinfo " id="T29:U151"><span class="mxinfo " id="T29:U152"><span class="var type1" id="S2T67U445">angles</span>(<span class="mxinfo " id="T14:U154">:</span>,<span class="mxinfo " id="T10:U155">3</span>)</span> = <span class="mxinfo " id="T29:U156">atan2(<span class="mxinfo " id="T29:U157"><span class="mxinfo " id="T2:U158">2</span>.*(<span class="mxinfo " id="T29:U159"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U160"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U161"><span class="var type1" id="S18T2U456">s</span>.*<span class="mxinfo " id="T29:U163"><span class="var type1" id="S3T79U458">q</span>(<span class="mxinfo " id="T14:U165">:</span>,<span class="mxinfo " id="T10:U166"><span class="var type1" id="S11T2U461">a</span>+1</span>)</span></span>.*<span class="mxinfo " id="T29:U168"><span class="var type1" id="S3T79U464">q</span>(<span class="mxinfo " id="T14:U170">:</span>,<span class="mxinfo " id="T2:U171"><span class="var type1" id="S13T2U467">b</span>+1</span>)</span></span></span> + <span class="mxinfo " id="T29:U173"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U174"><span class="var type1" id="S3T79U471">q</span>(<span class="mxinfo " id="T14:U176">:</span>,<span class="mxinfo " id="T2:U177"><span class="var type1" id="S14T2U474">c</span>+1</span>)</span>.*<span class="mxinfo " id="T29:U179"><span class="var type1" id="S3T79U477">q</span>(<span class="mxinfo " id="T14:U181">:</span>,<span class="mxinfo " id="T2:U182">1</span>)</span></span></span></span></span>)</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,55" id="srcline55">55</a></span><span class="line">            <span class="mxinfo " id="T29:U183"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U184"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U185"><span class="potentialdiff PD3"><span class="mxinfo " id="T29:U186"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U187"><span class="var type1" id="S3T79U485">q</span>(<span class="mxinfo " id="T14:U189">:</span>,<span class="mxinfo " id="T10:U190">1</span>)</span>.^2</span></span> + <span class="mxinfo " id="T29:U191"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U192"><span class="var type1" id="S3T79U491">q</span>(<span class="mxinfo " id="T14:U194">:</span>,<span class="mxinfo " id="T10:U195"><span class="var type1" id="S11T2U494">a</span>+1</span>)</span>.^2</span></span></span></span> - <span class="mxinfo " id="T29:U197"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U198"><span class="var type1" id="S3T79U499">q</span>(<span class="mxinfo " id="T14:U200">:</span>,<span class="mxinfo " id="T10:U201"><span class="var type1" id="S13T2U502">b</span>+1</span>)</span>.^2</span></span></span></span> - <span class="mxinfo " id="T29:U203"><span class="potentialdiff PD1"><span class="mxinfo " id="T29:U204"><span class="var type1" id="S3T79U507">q</span>(<span class="mxinfo " id="T14:U206">:</span>,<span class="mxinfo " id="T10:U207"><span class="var type1" id="S14T2U510">c</span>+1</span>)</span>.^2</span></span></span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,56" id="srcline56">56</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,57" id="srcline57">57</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,58" id="srcline58">58</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S5T6U515">intrinsic</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,59" id="srcline59">59</a></span><span class="line">        <span class="mxinfo " id="T67:U210"><span class="var type1" id="S2T67U518">angles</span> = <span class="mxinfo " id="T67:U212">fliplr(<span class="var type1" id="S2T67U521">angles</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="94,60" id="srcline60">60</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,61" id="srcline61">61</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="94,62" id="srcline62">62</a></span><span class="line"></span></span>
</pre>
<div class="dead">
<pre class="code">
<span class="srcline"><span class="lineno"><a href="94,63" id="srcline63">63</a></span><span class="line">function [n]=conventionIdentifierToNum(c)</span></span>
<span class="srcline"><span class="lineno"><a href="94,64" id="srcline64">64</a></span><span class="line">        if c == 'i' || c == '1' || c == 'x' || c == 'X'</span></span>
<span class="srcline"><span class="lineno"><a href="94,65" id="srcline65">65</a></span><span class="line">            n = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="94,66" id="srcline66">66</a></span><span class="line">        elseif c == 'j' || c == '2' || c == 'y' || c == 'Y'</span></span>
<span class="srcline"><span class="lineno"><a href="94,67" id="srcline67">67</a></span><span class="line">            n = 2;</span></span>
<span class="srcline"><span class="lineno"><a href="94,68" id="srcline68">68</a></span><span class="line">        elseif c == 'k' || c == '3' || c == 'z' || c == 'Z'</span></span>
<span class="srcline"><span class="lineno"><a href="94,69" id="srcline69">69</a></span><span class="line">            n = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="94,70" id="srcline70">70</a></span><span class="line">        else</span></span>
<span class="srcline"><span class="lineno"><a href="94,71" id="srcline71">71</a></span><span class="line">            error('eulerAngles:invalidConventionIdentifier', 'Invalid convention identifier "%s"', c);</span></span>
<span class="srcline"><span class="lineno"><a href="94,72" id="srcline72">72</a></span><span class="line">        end</span></span>
<span class="srcline"><span class="lineno"><a href="94,73" id="srcline73">73</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="94,74" id="srcline74">74</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,75" id="srcline75">75</a></span><span class="line">function [out]=clip(value, lower, upper)</span></span>
<span class="srcline"><span class="lineno"><a href="94,76" id="srcline76">76</a></span><span class="line">    out = max(lower, min(value, upper));</span></span>
<span class="srcline"><span class="lineno"><a href="94,77" id="srcline77">77</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="94,78" id="srcline78">78</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,79" id="srcline79">79</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,80" id="srcline80">80</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,81" id="srcline81">81</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,82" id="srcline82">82</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,83" id="srcline83">83</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="94,84" id="srcline84">84</a></span><span class="line"> </span></span>
</pre>
</div>
</body>
</html>
