<html>
<body>
<script src="resources/eml_report_loadable_data.js"></script>
<pre class="code">
<span class="srcline"><span class="lineno"><a href="77,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T44U3">angles</span>] = getEulerAngles(<span class="var type1" id="S3T5U6">q</span>,<span class="var type2" id="S4T19V3U7">convention</span>,<span class="var type2" id="S5T9V4U8">intrinsic</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="77,2" id="srcline2"> 2</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%EULERANGLES Calculates Euler angles from quaternions</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">%   convention: Euler angle axis sequence as string, e.g. "zyx".</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">%   intrinsic: boolean, if true, intrinsic Euler angles (e.g. z-y'-x'') are</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%   calculated, if false, extrinsic angles (e.g. z-y-x) are calculated.</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%   Author: Daniel Laidig &lt;laidig@control.tu-berlin.de&gt;</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,10" id="srcline10">10</a></span><span class="line">    <span class="keyword">if</span> ~ischar(<span class="var type1" id="S4T19U15">convention</span>) || ~all(size(<span class="var type1" id="S4T19U22">convention</span>) == [1 3])</span></span>
<span class="srcline"><span class="lineno"><a href="77,11" id="srcline11">11</a></span><span class="line">        error(<span class="string">'eulerAngles:invalidConvention'</span>, <span class="string">'Invalid convention "%s"'</span>, <span class="var type0" id="S4T0U32">convention</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="77,12" id="srcline12">12</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,13" id="srcline13">13</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="77,14" id="srcline14">14</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S5T9U35">intrinsic</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,15" id="srcline15">15</a></span><span class="line">        <span class="mxinfo " id="T19:U8"><span class="var type1" id="S4T19U38">convention</span> = <span class="mxinfo " id="T19:U10">fliplr(<span class="var type1" id="S4T19U41">convention</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,16" id="srcline16">16</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,17" id="srcline17">17</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="77,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T3:U12"><span class="var type1" id="S11T3U44">a</span> = <span class="mxinfo " id="T3:U14"><span class="fcn" id="F188N15:B46">conventionIdentifierToNum</span>(<span class="var type1" id="S4T19U48">convention</span>(1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,19" id="srcline19">19</a></span><span class="line">    <span class="mxinfo " id="T3:U16"><span class="var type1" id="S13T3U52">b</span> = <span class="mxinfo " id="T3:U18"><span class="fcn" id="F188N15:B54">conventionIdentifierToNum</span>(<span class="var type1" id="S4T19U56">convention</span>(2))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T3:U20"><span class="var type1" id="S14T3U60">c</span> = <span class="mxinfo " id="T3:U22"><span class="fcn" id="F188N15:B62">conventionIdentifierToNum</span>(<span class="var type1" id="S4T19U64">convention</span>(3))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,21" id="srcline21">21</a></span><span class="line">    <span class="mxinfo " id="T3:U24"><span class="var type1" id="S15T3U68">d</span> = <span class="mxinfo " id="T3:U26">NaN</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,22" id="srcline22">22</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T3U74">a</span> == <span class="var type1" id="S14T3U75">c</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,23" id="srcline23">23</a></span><span class="line">        <span class="keyword">if</span> <span class="var type0" id="S11T0U80">a</span> ~= 1 &amp;&amp; <span class="var type0" id="S13T0U83">b</span> ~= 1</span></span>
<span class="srcline"><span class="lineno"><a href="77,24" id="srcline24">24</a></span><span class="line">            <span class="var type0" id="S15T0U87">d</span> = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="77,25" id="srcline25">25</a></span><span class="line">        <span class="keyword">elseif</span> <span class="var type0" id="S11T0U92">a</span> ~= 2 &amp;&amp; <span class="var type0" id="S13T0U95">b</span> ~= 2</span></span>
<span class="srcline"><span class="lineno"><a href="77,26" id="srcline26">26</a></span><span class="line">            <span class="var type0" id="S15T0U99">d</span> = 2;</span></span>
<span class="srcline"><span class="lineno"><a href="77,27" id="srcline27">27</a></span><span class="line">        <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,28" id="srcline28">28</a></span><span class="line">            <span class="var type0" id="S15T0U104">d</span> = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="77,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,30" id="srcline30">30</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,32" id="srcline32">32</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S13T3U110">b</span> == <span class="var type1" id="S11T3U111">a</span> || <span class="var type1" id="S13T3U113">b</span> == <span class="var type1" id="S14T3U114">c</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,33" id="srcline33">33</a></span><span class="line">        error(<span class="string">'eulerAngles:invalidAxisOrder'</span>, <span class="string">'Invalid axis order'</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="77,34" id="srcline34">34</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,35" id="srcline35">35</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,36" id="srcline36">36</a></span><span class="line">    <span class="comment">% sign factor depending on the axis order</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,37" id="srcline37">37</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S13T3U123">b</span> == mod(<span class="var type1" id="S11T3U127">a</span>, 3) + 1 <span class="comment">% cyclic order</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,38" id="srcline38">38</a></span><span class="line">        <span class="var type0" id="S18T0U132">s</span> = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="77,39" id="srcline39">39</a></span><span class="line">    <span class="keyword">else</span> <span class="comment">% anti-cyclic order</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,40" id="srcline40">40</a></span><span class="line">        <span class="mxinfo " id="T3:U35"><span class="var type1" id="S18T3U137">s</span> = <span class="mxinfo " id="T3:U37">-1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,41" id="srcline41">41</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,42" id="srcline42">42</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="77,43" id="srcline43">43</a></span><span class="line">    <span class="mxinfo " id="T44:U38"><span class="var type1" id="S2T44U142">angles</span> = <span class="mxinfo " id="T44:U40">zeros(<span class="mxinfo " id="T38:U41">[<span class="mxinfo " id="T3:U42">size(<span class="var type1" id="S3T5U149">q</span>, 1)</span> <span class="mxinfo " id="T3:U44">3</span>]</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,44" id="srcline44">44</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S11T3U155">a</span> == <span class="var type1" id="S14T3U156">c</span> <span class="comment">% proper Euler angles</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,45" id="srcline45">45</a></span><span class="line">        <span class="var type0" id="S2T0U160">angles</span>(:,1) = atan2(<span class="var type0" id="S3T0U168">q</span>(:,<span class="var type0" id="S11T0U171">a</span>+1).*<span class="var type0" id="S3T0U174">q</span>(:,<span class="var type0" id="S13T0U177">b</span>+1) - <span class="var type0" id="S18T0U181">s</span>.*<span class="var type0" id="S3T0U183">q</span>(:,<span class="var type0" id="S15T0U186">d</span>+1).*<span class="var type0" id="S3T0U189">q</span>(:,1), <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,46" id="srcline46">46</a></span><span class="line">            <span class="var type0" id="S3T0U195">q</span>(:,<span class="var type0" id="S13T0U198">b</span>+1).*<span class="var type0" id="S3T0U201">q</span>(:,1) + <span class="var type0" id="S18T0U206">s</span>.*<span class="var type0" id="S3T0U208">q</span>(:,<span class="var type0" id="S11T0U211">a</span>+1).*<span class="var type0" id="S3T0U214">q</span>(:,<span class="var type0" id="S15T0U217">d</span>+1));</span></span>
<span class="srcline"><span class="lineno"><a href="77,47" id="srcline47">47</a></span><span class="line">        <span class="var type0" id="S2T0U222">angles</span>(:,2) = acos(clip(<span class="var type0" id="S3T0U234">q</span>(:,1).^2 + <span class="var type0" id="S3T0U240">q</span>(:,<span class="var type0" id="S11T0U243">a</span>+1).^2 - <span class="var type0" id="S3T0U248">q</span>(:,<span class="var type0" id="S13T0U251">b</span>+1).^2 - <span class="var type0" id="S3T0U256">q</span>(:,<span class="var type0" id="S15T0U259">d</span>+1).^2, -1, 1));</span></span>
<span class="srcline"><span class="lineno"><a href="77,48" id="srcline48">48</a></span><span class="line">        <span class="var type0" id="S2T0U268">angles</span>(:,3) = atan2(<span class="var type0" id="S3T0U276">q</span>(:,<span class="var type0" id="S11T0U279">a</span>+1).*<span class="var type0" id="S3T0U282">q</span>(:,<span class="var type0" id="S13T0U285">b</span>+1) + <span class="var type0" id="S18T0U289">s</span>.*<span class="var type0" id="S3T0U291">q</span>(:,<span class="var type0" id="S15T0U294">d</span>+1).*<span class="var type0" id="S3T0U297">q</span>(:,1), <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,49" id="srcline49">49</a></span><span class="line">            <span class="var type0" id="S3T0U303">q</span>(:,<span class="var type0" id="S13T0U306">b</span>+1).*<span class="var type0" id="S3T0U309">q</span>(:,1) - <span class="var type0" id="S18T0U314">s</span>.*<span class="var type0" id="S3T0U316">q</span>(:,<span class="var type0" id="S11T0U319">a</span>+1).*<span class="var type0" id="S3T0U322">q</span>(:,<span class="var type0" id="S15T0U325">d</span>+1));</span></span>
<span class="srcline"><span class="lineno"><a href="77,50" id="srcline50">50</a></span><span class="line">    <span class="keyword">else</span> <span class="comment">% Tait-Bryan</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,51" id="srcline51">51</a></span><span class="line">        <span class="mxinfo " id="T1:U47"><span class="mxinfo " id="T1:U48"><span class="var type1" id="S2T44U331">angles</span>(<span class="mxinfo " id="T43:U50">:</span>,<span class="mxinfo " id="T10:U51">1</span>)</span> = <span class="mxinfo " id="T1:U52">atan2(<span class="mxinfo " id="T1:U53"><span class="mxinfo " id="T3:U54">2</span>.*(<span class="mxinfo " id="T1:U55"><span class="mxinfo " id="T1:U56"><span class="mxinfo " id="T1:U57"><span class="var type1" id="S3T5U342">q</span>(<span class="mxinfo " id="T43:U59">:</span>,<span class="mxinfo " id="T10:U60"><span class="var type1" id="S11T3U345">a</span>+1</span>)</span>.*<span class="mxinfo " id="T1:U62"><span class="var type1" id="S3T5U348">q</span>(<span class="mxinfo " id="T43:U64">:</span>,<span class="mxinfo " id="T3:U65">1</span>)</span></span> + <span class="mxinfo " id="T1:U66"><span class="mxinfo " id="T1:U67"><span class="var type1" id="S18T3U353">s</span>.*<span class="mxinfo " id="T1:U69"><span class="var type1" id="S3T5U355">q</span>(<span class="mxinfo " id="T43:U71">:</span>,<span class="mxinfo " id="T3:U72"><span class="var type1" id="S13T3U358">b</span>+1</span>)</span></span>.*<span class="mxinfo " id="T1:U74"><span class="var type1" id="S3T5U361">q</span>(<span class="mxinfo " id="T43:U76">:</span>,<span class="mxinfo " id="T3:U77"><span class="var type1" id="S14T3U364">c</span>+1</span>)</span></span></span>)</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,52" id="srcline52">52</a></span><span class="line">            <span class="mxinfo " id="T1:U79"><span class="mxinfo " id="T1:U80"><span class="mxinfo " id="T1:U81"><span class="mxinfo " id="T1:U82"><span class="mxinfo " id="T1:U83"><span class="var type1" id="S3T5U371">q</span>(<span class="mxinfo " id="T43:U85">:</span>,<span class="mxinfo " id="T10:U86">1</span>)</span>.^2</span> - <span class="mxinfo " id="T1:U87"><span class="mxinfo " id="T1:U88"><span class="var type1" id="S3T5U377">q</span>(<span class="mxinfo " id="T43:U90">:</span>,<span class="mxinfo " id="T10:U91"><span class="var type1" id="S11T3U380">a</span>+1</span>)</span>.^2</span></span> - <span class="mxinfo " id="T1:U93"><span class="mxinfo " id="T1:U94"><span class="var type1" id="S3T5U385">q</span>(<span class="mxinfo " id="T43:U96">:</span>,<span class="mxinfo " id="T10:U97"><span class="var type1" id="S13T3U388">b</span>+1</span>)</span>.^2</span></span> + <span class="mxinfo " id="T1:U99"><span class="mxinfo " id="T1:U100"><span class="var type1" id="S3T5U393">q</span>(<span class="mxinfo " id="T43:U102">:</span>,<span class="mxinfo " id="T10:U103"><span class="var type1" id="S14T3U396">c</span>+1</span>)</span>.^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,53" id="srcline53">53</a></span><span class="line">        <span class="mxinfo " id="T1:U105"><span class="mxinfo " id="T1:U106"><span class="var type1" id="S2T44U402">angles</span>(<span class="mxinfo " id="T43:U108">:</span>,<span class="mxinfo " id="T10:U109">2</span>)</span> = <span class="mxinfo " id="T1:U110">asin(<span class="mxinfo " id="T1:U111"><span class="fcn" id="F255N14:B408">clip</span>(<span class="mxinfo " id="T1:U112"><span class="mxinfo " id="T3:U113">2</span>.*(<span class="mxinfo " id="T1:U114"><span class="mxinfo " id="T1:U115"><span class="mxinfo " id="T1:U116"><span class="var type1" id="S3T5U415">q</span>(<span class="mxinfo " id="T43:U118">:</span>,<span class="mxinfo " id="T10:U119"><span class="var type1" id="S13T3U418">b</span>+1</span>)</span>.*<span class="mxinfo " id="T1:U121"><span class="var type1" id="S3T5U421">q</span>(<span class="mxinfo " id="T43:U123">:</span>,<span class="mxinfo " id="T3:U124">1</span>)</span></span> - <span class="mxinfo " id="T1:U125"><span class="mxinfo " id="T1:U126"><span class="var type1" id="S18T3U426">s</span>.*<span class="mxinfo " id="T1:U128"><span class="var type1" id="S3T5U428">q</span>(<span class="mxinfo " id="T43:U130">:</span>,<span class="mxinfo " id="T3:U131"><span class="var type1" id="S11T3U431">a</span>+1</span>)</span></span>.*<span class="mxinfo " id="T1:U133"><span class="var type1" id="S3T5U434">q</span>(<span class="mxinfo " id="T43:U135">:</span>,<span class="mxinfo " id="T3:U136"><span class="var type1" id="S14T3U437">c</span>+1</span>)</span></span></span>)</span>, -1, 1)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,54" id="srcline54">54</a></span><span class="line">        <span class="mxinfo " id="T1:U138"><span class="mxinfo " id="T1:U139"><span class="var type1" id="S2T44U445">angles</span>(<span class="mxinfo " id="T43:U141">:</span>,<span class="mxinfo " id="T10:U142">3</span>)</span> = <span class="mxinfo " id="T1:U143">atan2(<span class="mxinfo " id="T1:U144"><span class="mxinfo " id="T3:U145">2</span>.*(<span class="mxinfo " id="T1:U146"><span class="mxinfo " id="T1:U147"><span class="mxinfo " id="T1:U148"><span class="var type1" id="S18T3U456">s</span>.*<span class="mxinfo " id="T1:U150"><span class="var type1" id="S3T5U458">q</span>(<span class="mxinfo " id="T43:U152">:</span>,<span class="mxinfo " id="T10:U153"><span class="var type1" id="S11T3U461">a</span>+1</span>)</span></span>.*<span class="mxinfo " id="T1:U155"><span class="var type1" id="S3T5U464">q</span>(<span class="mxinfo " id="T43:U157">:</span>,<span class="mxinfo " id="T3:U158"><span class="var type1" id="S13T3U467">b</span>+1</span>)</span></span> + <span class="mxinfo " id="T1:U160"><span class="mxinfo " id="T1:U161"><span class="var type1" id="S3T5U471">q</span>(<span class="mxinfo " id="T43:U163">:</span>,<span class="mxinfo " id="T3:U164"><span class="var type1" id="S14T3U474">c</span>+1</span>)</span>.*<span class="mxinfo " id="T1:U166"><span class="var type1" id="S3T5U477">q</span>(<span class="mxinfo " id="T43:U168">:</span>,<span class="mxinfo " id="T3:U169">1</span>)</span></span></span>)</span>, <span class="keyword">...</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,55" id="srcline55">55</a></span><span class="line">            <span class="mxinfo " id="T1:U170"><span class="mxinfo " id="T1:U171"><span class="mxinfo " id="T1:U172"><span class="mxinfo " id="T1:U173"><span class="mxinfo " id="T1:U174"><span class="var type1" id="S3T5U485">q</span>(<span class="mxinfo " id="T43:U176">:</span>,<span class="mxinfo " id="T10:U177">1</span>)</span>.^2</span> + <span class="mxinfo " id="T1:U178"><span class="mxinfo " id="T1:U179"><span class="var type1" id="S3T5U491">q</span>(<span class="mxinfo " id="T43:U181">:</span>,<span class="mxinfo " id="T10:U182"><span class="var type1" id="S11T3U494">a</span>+1</span>)</span>.^2</span></span> - <span class="mxinfo " id="T1:U184"><span class="mxinfo " id="T1:U185"><span class="var type1" id="S3T5U499">q</span>(<span class="mxinfo " id="T43:U187">:</span>,<span class="mxinfo " id="T10:U188"><span class="var type1" id="S13T3U502">b</span>+1</span>)</span>.^2</span></span> - <span class="mxinfo " id="T1:U190"><span class="mxinfo " id="T1:U191"><span class="var type1" id="S3T5U507">q</span>(<span class="mxinfo " id="T43:U193">:</span>,<span class="mxinfo " id="T10:U194"><span class="var type1" id="S14T3U510">c</span>+1</span>)</span>.^2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,56" id="srcline56">56</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,57" id="srcline57">57</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,58" id="srcline58">58</a></span><span class="line">    <span class="keyword">if</span> <span class="var type1" id="S5T9U515">intrinsic</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,59" id="srcline59">59</a></span><span class="line">        <span class="mxinfo " id="T44:U197"><span class="var type1" id="S2T44U518">angles</span> = <span class="mxinfo " id="T44:U199">fliplr(<span class="var type1" id="S2T44U521">angles</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="77,60" id="srcline60">60</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,61" id="srcline61">61</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="77,62" id="srcline62">62</a></span><span class="line"></span></span>
</pre>
<div class="dead">
<pre class="code">
<span class="srcline"><span class="lineno"><a href="77,63" id="srcline63">63</a></span><span class="line">function [n]=conventionIdentifierToNum(c)</span></span>
<span class="srcline"><span class="lineno"><a href="77,64" id="srcline64">64</a></span><span class="line">        if c == 'i' || c == '1' || c == 'x' || c == 'X'</span></span>
<span class="srcline"><span class="lineno"><a href="77,65" id="srcline65">65</a></span><span class="line">            n = 1;</span></span>
<span class="srcline"><span class="lineno"><a href="77,66" id="srcline66">66</a></span><span class="line">        elseif c == 'j' || c == '2' || c == 'y' || c == 'Y'</span></span>
<span class="srcline"><span class="lineno"><a href="77,67" id="srcline67">67</a></span><span class="line">            n = 2;</span></span>
<span class="srcline"><span class="lineno"><a href="77,68" id="srcline68">68</a></span><span class="line">        elseif c == 'k' || c == '3' || c == 'z' || c == 'Z'</span></span>
<span class="srcline"><span class="lineno"><a href="77,69" id="srcline69">69</a></span><span class="line">            n = 3;</span></span>
<span class="srcline"><span class="lineno"><a href="77,70" id="srcline70">70</a></span><span class="line">        else</span></span>
<span class="srcline"><span class="lineno"><a href="77,71" id="srcline71">71</a></span><span class="line">            error('eulerAngles:invalidConventionIdentifier', 'Invalid convention identifier "%s"', c);</span></span>
<span class="srcline"><span class="lineno"><a href="77,72" id="srcline72">72</a></span><span class="line">        end</span></span>
<span class="srcline"><span class="lineno"><a href="77,73" id="srcline73">73</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="77,74" id="srcline74">74</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,75" id="srcline75">75</a></span><span class="line">function [out]=clip(value, lower, upper)</span></span>
<span class="srcline"><span class="lineno"><a href="77,76" id="srcline76">76</a></span><span class="line">    out = max(lower, min(value, upper));</span></span>
<span class="srcline"><span class="lineno"><a href="77,77" id="srcline77">77</a></span><span class="line">end</span></span>
<span class="srcline"><span class="lineno"><a href="77,78" id="srcline78">78</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,79" id="srcline79">79</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,80" id="srcline80">80</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,81" id="srcline81">81</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,82" id="srcline82">82</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,83" id="srcline83">83</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="77,84" id="srcline84">84</a></span><span class="line"> </span></span>
</pre>
</div>
</body>
</html>
